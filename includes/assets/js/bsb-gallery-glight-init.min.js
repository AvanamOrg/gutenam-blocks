(function(){"use strict";var baseBlocksGLight={carouselCache:{},carouselItem:{},lightboxes:{},foundClasses:{},simulateClick:function(a){var b=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});!a.dispatchEvent(b)},handleClones:function(a){var b=a.querySelectorAll(".bsb-slide-item.splide__slide--clone a.bsb-gallery-item-link"),c=a.querySelectorAll(".bsb-slide-item:not(.splide__slide--clone) a.bsb-gallery-item-link");for(let d=0;d<b.length;d++)b[d].addEventListener("click",function(a){a.preventDefault();var e=b[d].getAttribute("href");for(let d=0;d<c.length;d++)if(e===c[d].getAttribute("href")){baseBlocksGLight.simulateClick(c[d]);break}})},findGalleries:function(){let a=document.querySelectorAll(".bsb-gallery-magnific-init");if(a.length&&a)for(let e=0;e<a.length;e++){let f=a[e].classList,g=a[e].getAttribute("data-image-filter");const h=g?"base-dark bsb-gal-light-filter-"+g:"base-dark";var b=a[e].getAttribute("data-lightbox-caption");baseBlocksGLight.foundClasses[e]=!1;for(let a=0;a<f.length;a++)if(-1!==f[a].indexOf("bsb-gallery-id")){baseBlocksGLight.foundClasses[e]=f[a];break}if("true"==b&&!a[e].classList.contains("bsb-gallery-non-static")){var c=a[e].querySelectorAll("a.bsb-gallery-item-link");for(let a=0;a<c.length;a++){var d=c[a].querySelector(".base-blocks-gallery-item__caption");d&&c[a].setAttribute("data-description",d.innerText)}}baseBlocksGLight.carouselItem[e]=a[e].querySelector(".bst-blocks-carousel-init"),baseBlocksGLight.carouselItem[e]?baseBlocksGLight.carouselItem[e].classList.contains("is-initialized")?(baseBlocksGLight.handleClones(baseBlocksGLight.carouselItem[e]),baseBlocksGLight.foundClasses[e]&&(baseBlocksGLight.lightboxes[e]=new GLightbox({selector:"."+baseBlocksGLight.foundClasses[e]+" .bsb-slide-item:not(.splide__slide--clone) a.bsb-gallery-item-link:not([target=\"_blank\"])",touchNavigation:!0,skin:h,loop:!0,openEffect:"fade",closeEffect:"fade",moreText:bsb_glightbox.moreText}))):baseBlocksGLight.carouselCache[e]=setInterval(function(){baseBlocksGLight.carouselItem[e].classList.contains("is-initialized")?(baseBlocksGLight.handleClones(baseBlocksGLight.carouselItem[e]),baseBlocksGLight.lightboxes[e]=new GLightbox({selector:"."+baseBlocksGLight.foundClasses[e]+" .bsb-slide-item:not(.splide__slide--clone) a.bsb-gallery-item-link:not([target=\"_blank\"])",touchNavigation:!0,skin:h,loop:!0,openEffect:"fade",closeEffect:"fade",moreText:bsb_glightbox.moreText}),clearInterval(baseBlocksGLight.carouselCache[e])):console.log("waiting to initialize galllery lightbox")},200):baseBlocksGLight.foundClasses[e]&&(baseBlocksGLight.lightboxes[e]=new GLightbox({selector:"."+baseBlocksGLight.foundClasses[e]+" a.bsb-gallery-item-link:not([target=\"_blank\"])",touchNavigation:!0,skin:h,loop:!0,openEffect:"fade",closeEffect:"fade",moreText:bsb_glightbox.moreText}))}},initAll:function(){baseBlocksGLight.findGalleries()},init:function(){if("function"==typeof GLightbox)baseBlocksGLight.initAll();else var a=setInterval(function(){"function"==typeof GLightbox&&(baseBlocksGLight.initAll(),clearInterval(a))},200)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",baseBlocksGLight.init):baseBlocksGLight.init()})();