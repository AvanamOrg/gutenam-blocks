(()=>{var e,t={1954:(e,t,a)=>{"use strict";a.r(t),a.d(t,{metadata:()=>R,name:()=>J,settings:()=>Z});const i=window.wp.i18n,o=window.base.icons,n=window.wp.blocks;function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l.apply(this,arguments)}const r=window.wp.element;var s=a(4184),d=a.n(s);const c=window.lodash,u=window.wp.blob,g=window.wp.compose,m=window.wp.data,p=window.wp.blockEditor,b=window.wp.hooks,v=window.wp.components,h=window.wp.primitives,f=(0,r.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(h.Path,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"})),k=window.base.components,y=window.base.helpers,S=(0,r.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),w=(0,r.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(h.Path,{d:"M16.5 7.8v7H18v-7c0-1-.8-1.8-1.8-1.8h-7v1.5h7c.2 0 .3.1.3.3zm-8.7 8.7c-.1 0-.2-.1-.2-.2V2H6v4H2v1.5h4v8.8c0 1 .8 1.8 1.8 1.8h8.8v4H18v-4h4v-1.5H7.8z"})),_=(0,r.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(h.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),C=window.wp.notices,x=window.wp.coreData;var E=a(1991),O=a.n(E),B=a(9588),z=a.n(B);const R=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"base/image","title":"Advanced Image","category":"gutenam-blocks","usesContext":["postId","queryId","allowResize","imageCrop"],"description":"Image block with greater controls and advanced features","keywords":["img","image","photo","bb"],"textdomain":"gutenam-blocks","attributes":{"align":{"type":"string"},"url":{"type":"string","source":"attribute","selector":"img","attribute":"src","__experimentalRole":"content"},"alt":{"type":"string","source":"attribute","selector":"img","attribute":"alt","default":"","__experimentalRole":"content"},"caption":{"type":"string","source":"html","selector":"figcaption","__experimentalRole":"content"},"title":{"type":"string","source":"attribute","selector":"img","attribute":"title","__experimentalRole":"content"},"id":{"type":"number","__experimentalRole":"content"},"width":{"type":"number"},"height":{"type":"number"},"imgMaxWidth":{"type":"number"},"imgMaxWidthTablet":{"type":"number"},"imgMaxWidthMobile":{"type":"number"},"sizeSlug":{"type":"string"},"ratio":{"type":"string"},"useRatio":{"type":"boolean","default":false},"link":{"type":"string","__experimentalRole":"content"},"linkTarget":{"type":"boolean","default":false},"linkNoFollow":{"type":"boolean","default":false},"linkSponsored":{"type":"boolean","default":false},"linkDestination":{"type":"string"},"linkTitle":{"type":"string"},"linkClass":{"type":"string","source":"attribute","selector":"figure > a","attribute":"class"},"uniqueID":{"type":"string"},"marginDesktop":{"type":"array","default":["","","",""]},"marginTablet":{"type":"array","default":["","","",""]},"marginMobile":{"type":"array","default":["","","",""]},"marginUnit":{"type":"string","default":"px"},"paddingDesktop":{"type":"array","default":["","","",""]},"paddingTablet":{"type":"array","default":["","","",""]},"paddingMobile":{"type":"array","default":["","","",""]},"paddingUnit":{"type":"string","default":"px"},"borderColor":{"type":"string","default":""},"backgroundColor":{"type":"string","default":""},"borderRadius":{"type":"array","default":["","","",""]},"tabletBorderRadius":{"type":"array","default":["","","",""]},"mobileBorderRadius":{"type":"array","default":["","","",""]},"borderRadiusUnit":{"type":"string","default":"px"},"borderWidthUnit":{"type":"string","default":"px"},"borderWidthDesktop":{"type":"array","default":["","","",""]},"borderWidthTablet":{"type":"array","default":["","","",""]},"borderWidthMobile":{"type":"array","default":["","","",""]},"displayBoxShadow":{"type":"boolean","default":false},"boxShadow":{"type":"array","default":[{"color":"#000000","opacity":0.2,"spread":0,"blur":14,"hOffset":0,"vOffset":0,"inset":false}]},"displayDropShadow":{"type":"boolean","default":false},"dropShadow":{"type":"array","default":[{"color":"#000000","opacity":0.2,"blur":14,"hOffset":0,"vOffset":0}]},"imageFilter":{"type":"string","default":"none"},"showCaption":{"type":"boolean","default":true},"captionStyles":{"type":"array","default":[{"size":["","",""],"sizeType":"px","lineHeight":["","",""],"lineType":"px","letterSpacing":"","textTransform":"","family":"","google":false,"style":"","weight":"","variant":"","subset":"","loadGoogle":true,"color":"","background":""}]},"maskSvg":{"type":"string","default":"none"},"maskUrl":{"type":"string"},"maskSize":{"type":"string","default":"auto"},"maskPosition":{"type":"string","default":"center center"},"maskRepeat":{"type":"string","default":"no-repeat"},"zIndex":{"type":"number"},"inQueryBlock":{"type":"boolean","default":false},"preventLazyLoad":{"type":"boolean","default":false},"borderStyle":{"type":"array","default":[{"top":["","",""],"right":["","",""],"bottom":["","",""],"left":["","",""],"unit":"px"}]},"tabletBorderStyle":{"type":"array","default":[{"top":["","",""],"right":["","",""],"bottom":["","",""],"left":["","",""],"unit":"px"}]},"mobileBorderStyle":{"type":"array","default":[{"top":["","",""],"right":["","",""],"bottom":["","",""],"left":["","",""],"unit":"px"}]}},"supports":{"anchor":true,"btanimate":true,"btanimateadd":true,"btanimatepreview":true,"btdynamic":true}}'),{name:T}=R,N=[{ratio:"2.33",className:"wp-embed-aspect-21-9"},{ratio:"2.00",className:"wp-embed-aspect-18-9"},{ratio:"1.78",className:"wp-embed-aspect-16-9"},{ratio:"1.33",className:"wp-embed-aspect-4-3"},{ratio:"1.00",className:"wp-embed-aspect-1-1"},{ratio:"0.56",className:"wp-embed-aspect-9-16"},{ratio:"0.50",className:"wp-embed-aspect-1-2"}],I="wp-embed",M=e=>e&&e.includes('class="wp-embedded-content"'),D=e=>{if(!e)return e;const t=N.reduce(((e,t)=>{let{className:a}=t;return e[a]=!1,e}),{"wp-has-aspect-ratio":!1});return O()(e,t)};z()((function(e,t,a,i){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!e)return{};const n={};let{type:l="rich"}=e;const{html:r,provider_name:s}=e,d=(0,c.kebabCase)((s||t).toLowerCase());return M(r)&&(l=I),(r||"photo"===l)&&(n.type=l,n.providerNameSlug=d),n.className=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return D(t);const a=document.implementation.createHTMLDocument("");a.body.innerHTML=e;const i=a.body.querySelector("iframe");if(i&&i.height&&i.width){const e=(i.width/i.height).toFixed(2);for(let a=0;a<N.length;a++){const i=N[a];if(e>=i.ratio)return e-i.ratio>.1?D(t):O()(D(t),i.className,"wp-has-aspect-ratio")}}return t}(r,a,i&&o),n}));const P="none",L="media",U="attachment",F="custom",W=["image"];function A(e){let{temporaryURL:t,attributes:a,setAttributes:o,isSelected:l,insertBlocksAfter:s,onReplace:d,onSelectImage:b,onSelectURL:h,onUploadError:f,containerRef:E,context:O,clientId:B,previewDevice:z,marginMouseOver:N,paddingMouseOver:D}=e;const{url:P="",alt:L,caption:U,align:F,id:A,title:H,width:$,height:q,sizeSlug:j,useRatio:G,ratio:J,imgMaxWidth:Z,imgMaxWidthTablet:Q,imgMaxWidthMobile:K,uniqueID:X,marginDesktop:Y,marginTablet:ee,marginMobile:te,marginUnit:ae,paddingDesktop:ie,paddingTablet:oe,paddingMobile:ne,paddingUnit:le,backgroundColor:re,borderColor:se,borderRadius:de,borderWidthUnit:ce,borderRadiusUnit:ue,borderWidthDesktop:ge,borderWidthTablet:me,borderWidthMobile:pe,displayBoxShadow:be,boxShadow:ve,displayDropShadow:he,dropShadow:fe,imageFilter:ke,showCaption:ye,captionStyles:Se,maskSvg:we,maskSize:_e,maskPosition:Ce,maskRepeat:xe,maskUrl:Ee,link:Oe,linkTarget:Be,linkNoFollow:ze,linkSponsored:Re,linkDestination:Te,linkTitle:Ne,zIndex:Ie,tabletBorderRadius:Me,mobileBorderRadius:De,borderStyle:Pe,tabletBorderStyle:Le,mobileBorderStyle:Ue,preventLazyLoad:Fe}=a,We=((0,y.getPreviewSize)(z,void 0!==Y?Y[0]:"",void 0!==ee?ee[0]:"",void 0!==te?te[0]:""),(0,y.getPreviewSize)(z,void 0!==Y?Y[1]:"",void 0!==ee?ee[1]:"",void 0!==te?te[1]:""),(0,y.getPreviewSize)(z,void 0!==Y?Y[2]:"",void 0!==ee?ee[2]:"",void 0!==te?te[2]:""),(0,y.getPreviewSize)(z,void 0!==Y?Y[3]:"",void 0!==ee?ee[3]:"",void 0!==te?te[3]:""),(0,y.getPreviewSize)(z,void 0!==ie?ie[0]:"",void 0!==oe?oe[0]:"",void 0!==ne?ne[0]:"")),Ae=(0,y.getPreviewSize)(z,void 0!==ie?ie[1]:"",void 0!==oe?oe[1]:"",void 0!==ne?ne[1]:""),Ve=(0,y.getPreviewSize)(z,void 0!==ie?ie[2]:"",void 0!==oe?oe[2]:"",void 0!==ne?ne[2]:""),He=(0,y.getPreviewSize)(z,void 0!==ie?ie[3]:"",void 0!==oe?oe[3]:"",void 0!==ne?ne[3]:""),$e=(0,y.getBorderStyle)(z,"top",Pe,Le,Ue),qe=(0,y.getBorderStyle)(z,"right",Pe,Le,Ue),je=(0,y.getBorderStyle)(z,"bottom",Pe,Le,Ue),Ge=(0,y.getBorderStyle)(z,"left",Pe,Le,Ue),Je=(0,y.getPreviewSize)(z,void 0!==de?de[0]:"",void 0!==Me?Me[0]:"",void 0!==De?De[0]:""),Ze=(0,y.getPreviewSize)(z,void 0!==de?de[1]:"",void 0!==Me?Me[1]:"",void 0!==De?De[1]:""),Qe=(0,y.getPreviewSize)(z,void 0!==de?de[2]:"",void 0!==Me?Me[2]:"",void 0!==De?De[2]:""),Ke=(0,y.getPreviewSize)(z,void 0!==de?de[3]:"",void 0!==Me?Me[3]:"",void 0!==De?De[3]:""),Xe=(0,y.getPreviewSize)(z,void 0!==Z?Z:"",void 0!==Q?Q:"",void 0!==K?K:""),Ye=void 0!==Se[0].sizeType?Se[0].sizeType:"px",et=(0,y.getPreviewSize)(z,void 0!==Se[0].size[0]?Se[0].size[0]:"inherit",void 0!==Se[0].size[1]?Se[0].size[1]:"inherit",void 0!==Se[0].size[2]?Se[0].size[2]:"inherit"),tt=void 0!==Se[0].lineType?Se[0].lineType:"px",at=(0,y.getPreviewSize)(z,void 0!==Se[0].lineHeight[0]?Se[0].lineHeight[0]+tt:"normal",void 0!==Se[0].lineHeight[1]?Se[0].lineHeight[1]+tt:"normal",void 0!==Se[0].lineHeight[2]+tt?Se[0].lineHeight[2]:"normal"),it=(0,g.usePrevious)(U),[ot,nt]=(0,r.useState)(!!U),{allowResize:lt=!0}=O;function rt(e){const t=fe.map(((t,a)=>(0===a&&(t={...t,...e}),t)));o({dropShadow:t})}function st(e){const t=ve.map(((t,a)=>(0===a&&(t={...t,...e}),t)));o({boxShadow:t})}const dt=e=>{const t=Se.map(((t,a)=>(0===a&&(t={...t,...e}),t)));o({captionStyles:t})},{image:ct}=(0,m.useSelect)((e=>{const{getMedia:t}=e(x.store);return{image:A&&l?t(A):null}}),[A,l]),{replaceBlocks:ut,toggleSelection:gt}=(0,m.useDispatch)(p.store),{createErrorNotice:mt,createSuccessNotice:pt}=(0,m.useDispatch)(C.store),bt=(0,g.useViewportMatch)("medium"),vt=(0,c.includes)(["wide","full"],F),[{naturalWidth:ht,naturalHeight:ft},kt]=(0,r.useState)({}),[yt,St]=(0,r.useState)(!1),[wt,_t]=(0,r.useState)("general"),[Ct,xt]=(0,r.useState)(),Et=function(e,t){const[a,i]=(0,r.useState)();function o(){i(e.current.clientWidth)}return(0,r.useEffect)(o,t),(0,r.useEffect)((()=>{const{defaultView:t}=e.current.ownerDocument;return t.addEventListener("resize",o),()=>{t.removeEventListener("resize",o)}}),[]),a}(E,[F]),Ot=!(!P||!P.endsWith(".svg")),Bt=lt&&!(vt&&bt)&&!(Ot&&!Xe),zt=lt&&!vt,{imageEditing:Rt,imageSizes:Tt,maxWidth:Nt,mediaUpload:It}=(0,m.useSelect)((e=>{const{getSettings:t}=e(p.store);return{...(0,c.pick)(t(),["imageEditing","imageSizes","maxWidth","mediaUpload"])}}),[B]);(0,c.map)((0,c.filter)(Tt,(e=>{let{slug:t}=e;return(0,c.get)(ct,["media_details","sizes",t,"source_url"])})),(e=>{let{name:t,slug:a}=e;return{value:a,label:t}})),(0,r.useEffect)((()=>{V(A,P)&&l&&!Ct&&window.fetch(P).then((e=>e.blob())).then((e=>xt(e))).catch((()=>{}))}),[A,P,l,Ct]),(0,r.useEffect)((()=>{U&&!it&&nt(!0)}),[U,it]);const Mt=(0,r.useCallback)((e=>{e&&!U&&e.focus()}),[U]);(0,r.useEffect)((()=>{l||(St(!1),U||nt(!1))}),[l,U]);const Dt=!!(a.baseDynamic&&a.baseDynamic.url&&a.baseDynamic.url.enable),Pt=!!(a.baseDynamic&&a.baseDynamic.link&&a.baseDynamic.link.enable),Lt=A&&ht&&ft&&Rt&&!Dt&&!Ot,Ut=Lt&&!yt,Ft=["url","id","caption","alt"],Wt=(0,r.createElement)(r.Fragment,null,(0,r.createElement)(p.BlockControls,{group:"block"},(0,r.createElement)(p.BlockAlignmentControl,{value:F,onChange:function(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};o({...t,align:e})}}),ye&&(0,r.createElement)(v.ToolbarButton,{onClick:()=>{nt(!ot),ot&&U&&o({caption:void 0})},icon:S,isPressed:ot,label:ot?(0,i.__)("Remove caption"):(0,i.__)("Add caption")}),!yt&&!Dt&&!Pt&&(0,r.createElement)(k.BaseImageURLInputUI,{url:Oe||"",onChangeUrl:e=>o({link:e}),linkDestination:Te,mediaUrl:ct&&ct.source_url||P,mediaLink:ct&&ct.link,onChangeLinkDestination:e=>o({linkDestination:e}),onChangeAttribute:e=>o(e),additionalControls:!0,opensInNewTab:void 0!==Be&&Be,onChangeTarget:e=>o({linkTarget:e}),linkNoFollow:void 0!==ze&&ze,onChangeFollow:e=>o({linkNoFollow:e}),linkSponsored:void 0!==Re&&Re,onChangeSponsored:e=>o({linkSponsored:e}),allowClear:!0,dynamicAttribute:"link",isSelected:l,attributes:a,setAttributes:o,name:"base/image",clientId:B,context:O}),Ut&&(0,r.createElement)(v.ToolbarButton,{onClick:()=>St(!0),icon:w,label:(0,i.__)("Crop")}),Ct&&!Dt&&(0,r.createElement)(v.ToolbarButton,{onClick:function(){It({filesList:[Ct],onFileChange(e){let[t]=e;b(t),(0,u.isBlobURL)(t.url)||(xt(),pt((0,i.__)("Image uploaded.","gutenam-blocks"),{type:"snackbar"}))},allowedTypes:W,onError(e){mt(e,{type:"snackbar"})}})},icon:_,label:(0,i.__)("Upload external image","gutenam-blocks")})),(0,r.createElement)(p.BlockControls,null,(0,r.createElement)(k.CopyPasteAttributes,{attributes:a,excludedAttrs:Ft,defaultAttributes:R.attributes,blockSlug:R.name,onPaste:e=>o(e)})),!yt&&!Dt&&(0,r.createElement)(p.BlockControls,{group:"other"},(0,r.createElement)(p.MediaReplaceFlow,{mediaId:A,mediaURL:P,allowedTypes:W,accept:"image/*",onSelect:b,onSelectURL:h,onError:f})),(0,r.createElement)(p.InspectorControls,null,(0,r.createElement)(k.InspectorControlTabs,{panelName:"image",setActiveTab:_t,activeTab:wt}),"general"===wt&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Image settings","gutenam-blocks"),initialOpen:!0,panelName:"bsb-image-settings"},(0,r.createElement)(k.BaseImageControl,{label:(0,i.__)("Image","gutenam-blocks"),hasImage:!!P,imageURL:P||"",imageID:A,onRemoveImage:function(){o({url:void 0,id:void 0,width:void 0,height:void 0,sizeSlug:void 0})},onSaveImage:function(e){o({url:e.url,id:e.id?e.id:void 0,width:void 0,height:void 0,sizeSlug:void 0})},disableMediaButtons:!!P,dynamicAttribute:"url",isSelected:l,attributes:a,setAttributes:o,name:"base/image",clientId:B,context:O}),A&&(0,r.createElement)(k.ImageSizeControl,{label:(0,i.__)("Image File Size","gutenam-blocks"),id:A,url:P,fullSelection:!0,selectByValue:!0,onChange:function(e){o({url:e.value,width:void 0,height:void 0,sizeSlug:e.slug,imgMaxWidth:void 0,imgMaxWidthTablet:void 0,imgMaxWidthMobile:void 0})}}),(0,r.createElement)(v.ToggleControl,{label:(0,i.__)("Use fixed ratio instead of image ratio","gutenam-blocks"),checked:G,onChange:e=>o({useRatio:e})}),G&&(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Size Ratio","gutenam-blocks"),value:J,options:[{label:(0,i.__)("Landscape 4:3","gutenam-blocks"),value:"land43"},{label:(0,i.__)("Landscape 3:2","gutenam-blocks"),value:"land32"},{label:(0,i.__)("Landscape 16:9","gutenam-blocks"),value:"land169"},{label:(0,i.__)("Landscape 2:1","gutenam-blocks"),value:"land21"},{label:(0,i.__)("Landscape 3:1","gutenam-blocks"),value:"land31"},{label:(0,i.__)("Landscape 4:1","gutenam-blocks"),value:"land41"},{label:(0,i.__)("Portrait 3:4","gutenam-blocks"),value:"port34"},{label:(0,i.__)("Portrait 2:3","gutenam-blocks"),value:"port23"},{label:(0,i.__)("Square 1:1","gutenam-blocks"),value:"square"}],onChange:e=>o({ratio:e})}),zt&&(0,r.createElement)(k.ResponsiveRangeControls,{label:(0,i.__)("Max Image Width","gutenam-blocks"),value:Z||"",onChange:e=>o({imgMaxWidth:e}),tabletValue:Q||"",onChangeTablet:e=>o({imgMaxWidthTablet:e}),mobileValue:K||"",onChangeMobile:e=>o({imgMaxWidthMobile:e}),min:5,max:3e3,step:1,unit:"px",showUnit:!0,units:["px"]}),(0,r.createElement)(v.TextareaControl,{label:(0,i.__)("Alt text (alternative text)"),value:L,onChange:function(e){o({alt:e})},help:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(v.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,i.__)("Describe the purpose of the image","gutenam-blocks")),(0,i.__)("Leave empty if the image is purely decorative.","gutenam-blocks"))}),(0,r.createElement)(v.TextControl,{label:(0,i.__)("Title attribute","gutenam-blocks"),value:H||"",onChange:function(e){o({title:e})},help:(0,r.createElement)(r.Fragment,null,(0,i.__)("Describe the role of this image on the page.","gutenam-blocks"),(0,r.createElement)(v.ExternalLink,{href:"https://www.w3.org/TR/html52/dom.html#the-title-attribute"},(0,i.__)("(Note: many devices and browsers do not display this text.)","gutenam-blocks")))})),(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Link Settings","gutenam-blocks"),initialOpen:!1,panelName:"bsb-image-link-settings"},(0,r.createElement)(k.URLInputControl,{label:(0,i.__)("Image Link","gutenam-blocks"),url:Oe,onChangeUrl:e=>o({link:e}),additionalControls:!0,opensInNewTab:void 0!==Be&&Be,onChangeTarget:e=>o({linkTarget:e}),linkNoFollow:void 0!==ze&&ze,onChangeFollow:e=>o({linkNoFollow:e}),linkSponsored:void 0!==Re&&Re,onChangeSponsored:e=>o({linkSponsored:e}),allowClear:!0,linkTitle:Ne,onChangeTitle:e=>{o({linkTitle:e})},dynamicAttribute:"link",isSelected:l,attributes:a,setAttributes:o,name:"base/image",clientId:B,context:O})),(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Mask Settings","gutenam-blocks"),initialOpen:!1,panelName:"bsb-image-mask-settings"},(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Mask Shape","gutenam-blocks"),options:[{label:(0,i.__)("None","gutenam-blocks"),value:"none"},{label:(0,i.__)("Circle","gutenam-blocks"),value:"circle"},{label:(0,i.__)("Diamond","gutenam-blocks"),value:"diamond"},{label:(0,i.__)("Hexagon","gutenam-blocks"),value:"hexagon"},{label:(0,i.__)("Rounded","gutenam-blocks"),value:"rounded"},{label:(0,i.__)("Blob 1","gutenam-blocks"),value:"blob1"},{label:(0,i.__)("Blob 2","gutenam-blocks"),value:"blob2"},{label:(0,i.__)("Blob 3","gutenam-blocks"),value:"blob3"},{label:(0,i.__)("Custom","gutenam-blocks"),value:"custom"}],value:we,onChange:e=>o({maskSvg:e})}),"custom"===we&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(k.BaseImageControl,{label:(0,i.__)("Custom Mask Image","gutenam-blocks"),hasImage:!!Ee,imageURL:Ee||"",imageID:"",onRemoveImage:()=>{o({maskUrl:void 0})},onSaveImage:e=>{o({maskUrl:e.url})},disableMediaButtons:!!Ee}),(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Mask Size","gutenam-blocks"),options:[{label:(0,i.__)("Auto","gutenam-blocks"),value:"auto"},{label:(0,i.__)("Contain","gutenam-blocks"),value:"contain"},{label:(0,i.__)("Cover","gutenam-blocks"),value:"cover"}],value:_e,onChange:e=>o({maskSize:e})}),(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Mask Position","gutenam-blocks"),options:[{value:"center top",label:(0,i.__)("Center Top","gutenam-blocks")},{value:"center center",label:(0,i.__)("Center Center","gutenam-blocks")},{value:"center bottom",label:(0,i.__)("Center Bottom","gutenam-blocks")},{value:"left top",label:(0,i.__)("Left Top","gutenam-blocks")},{value:"left center",label:(0,i.__)("Left Center","gutenam-blocks")},{value:"left bottom",label:(0,i.__)("Left Bottom","gutenam-blocks")},{value:"right top",label:(0,i.__)("Right Top","gutenam-blocks")},{value:"right center",label:(0,i.__)("Right Center","gutenam-blocks")},{value:"right bottom",label:(0,i.__)("Right Bottom","gutenam-blocks")}],value:Ce,onChange:e=>o({maskPosition:e})}),(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Mask Repeat","gutenam-blocks"),options:[{value:"no-repeat",label:(0,i.__)("No Repeat","gutenam-blocks")},{value:"repeat",label:(0,i.__)("Repeat","gutenam-blocks")},{value:"repeat-x",label:(0,i.__)("Repeat-x","gutenam-blocks")},{value:"repeat-y",label:(0,i.__)("Repeat-y","gutenam-blocks")}],value:xe,onChange:e=>o({maskRepeat:e})}))),(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Caption Settings","gutenam-blocks"),initialOpen:!1,panelName:"bsb-image-caption-settings"},(0,r.createElement)(v.ToggleControl,{label:(0,i.__)("Enable Caption","gutenam-blocks"),checked:ye,onChange:e=>o({showCaption:e})}),ye&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(k.PopColorControl,{label:(0,i.__)("Caption Color","gutenam-blocks"),value:Se&&Se[0]&&Se[0].color?Se[0].color:"",default:"",onChange:e=>dt({color:e})}),(0,r.createElement)(k.TypographyControls,{fontSize:Se[0].size,onFontSize:e=>dt({size:e}),fontSizeType:Se[0].sizeType,onFontSizeType:e=>dt({sizeType:e}),lineHeight:Se[0].lineHeight,onLineHeight:e=>dt({lineHeight:e}),lineHeightType:Se[0].lineType,onLineHeightType:e=>dt({lineType:e}),letterSpacing:Se[0].letterSpacing,onLetterSpacing:e=>dt({letterSpacing:e}),textTransform:Se[0].textTransform,onTextTransform:e=>dt({textTransform:e}),fontFamily:Se[0].family,onFontFamily:e=>dt({family:e}),onFontChange:e=>{dt({family:e.value,google:e.google})},onFontArrayChange:e=>dt(e),googleFont:Se[0].google,onGoogleFont:e=>dt({google:e}),loadGoogleFont:Se[0].loadGoogle,onLoadGoogleFont:e=>dt({loadGoogle:e}),fontVariant:Se[0].variant,onFontVariant:e=>dt({variant:e}),fontWeight:Se[0].weight,onFontWeight:e=>dt({weight:e}),fontStyle:Se[0].style,onFontStyle:e=>dt({style:e}),fontSubset:Se[0].subset,onFontSubset:e=>dt({subset:e})}))),(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Image Filter","gutenam-blocks"),initialOpen:!1,panelName:"bsb-image-filter"},(0,r.createElement)(v.SelectControl,{label:(0,i.__)("Image Filter","gutenam-blocks"),help:(0,i.__)("Not supported in Internet Explorer","gutenam-blocks"),options:[{label:(0,i.__)("None","gutenam-blocks"),value:"none"},{label:(0,i.__)("Grayscale","gutenam-blocks"),value:"grayscale"},{label:(0,i.__)("Sepia","gutenam-blocks"),value:"sepia"},{label:(0,i.__)("Saturation","gutenam-blocks"),value:"saturation"},{label:(0,i.__)("Vintage","gutenam-blocks"),value:"vintage"},{label:(0,i.__)("Earlybird","gutenam-blocks"),value:"earlybird"},{label:(0,i.__)("Toaster","gutenam-blocks"),value:"toaster"},{label:(0,i.__)("Mayfair","gutenam-blocks"),value:"mayfair"}],value:ke,onChange:e=>o({imageFilter:e})}))),"style"===wt&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(k.BasePanelBody,{panelName:"bsb-image-border-settings"},(0,r.createElement)(k.PopColorControl,{label:(0,i.__)("Background Color","gutenam-blocks"),value:re||"",default:"",onChange:e=>{o({backgroundColor:e})}}),(0,r.createElement)(k.ResponsiveBorderControl,{label:(0,i.__)("Border","gutenam-blocks"),value:Pe,tabletValue:Le,mobileValue:Ue,onChange:e=>o({borderStyle:e}),onChangeTablet:e=>o({tabletBorderStyle:e}),onChangeMobile:e=>o({mobileBorderStyle:e})}),(0,r.createElement)(k.ResponsiveMeasurementControls,{label:(0,i.__)("Border Radius","gutenam-blocks"),value:de,tabletValue:Me,mobileValue:De,onChange:e=>o({borderRadius:e}),onChangeTablet:e=>o({tabletBorderRadius:e}),onChangeMobile:e=>o({mobileBorderRadius:e}),min:0,max:"em"===ue||"rem"===ue?24:200,step:"em"===ue||"rem"===ue?.1:1,unit:ue,units:["px","em","rem","%"],onUnit:e=>o({borderRadiusUnit:e}),isBorderRadius:!0,allowEmpty:!0}),(0,r.createElement)(k.BoxShadowControl,{label:(0,i.__)("Box Shadow","gutenam-blocks"),enable:void 0!==be&&be,color:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].color?ve[0].color:"#000000",colorDefault:"#000000",onArrayChange:(e,t)=>st({color:e,opacity:t}),opacity:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].opacity?ve[0].opacity:.2,hOffset:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].hOffset?ve[0].hOffset:0,vOffset:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].vOffset?ve[0].vOffset:0,blur:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].blur?ve[0].blur:14,spread:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].spread?ve[0].spread:0,inset:void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].inset&&ve[0].inset,onEnableChange:e=>{o({displayBoxShadow:e})},onColorChange:e=>{st({color:e})},onOpacityChange:e=>{st({opacity:e})},onHOffsetChange:e=>{st({hOffset:e})},onVOffsetChange:e=>{st({vOffset:e})},onBlurChange:e=>{st({blur:e})},onSpreadChange:e=>{st({spread:e})},onInsetChange:e=>{st({inset:e})}}),(0,r.createElement)(k.DropShadowControl,{label:(0,i.__)("Drop Shadow","gutenam-blocks"),enable:void 0!==he&&he,color:void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].color?fe[0].color:"#000000",colorDefault:"#000000",onArrayChange:(e,t)=>rt({color:e,opacity:t}),opacity:void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].opacity?fe[0].opacity:.2,hOffset:void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].hOffset?fe[0].hOffset:0,vOffset:void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].vOffset?fe[0].vOffset:0,blur:void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].blur?fe[0].blur:14,onEnableChange:e=>{o({displayDropShadow:e})},onColorChange:e=>{rt({color:e})},onOpacityChange:e=>{rt({opacity:e})},onHOffsetChange:e=>{rt({hOffset:e})},onVOffsetChange:e=>{rt({vOffset:e})},onBlurChange:e=>{rt({blur:e})}}),(0,r.createElement)("p",{className:"bsb-sidebar-help"},(0,i.__)("Learn about the differences:","gutenam-blocks"),(0,r.createElement)("br",null),(0,r.createElement)(v.ExternalLink,{href:"https://css-tricks.com/breaking-css-box-shadow-vs-drop-shadow/"},(0,i.__)("Box Shadow vs. Drop Shadow","gutenam-blocks"))))),"advanced"===wt&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(k.BasePanelBody,null,(0,r.createElement)(k.ResponsiveMeasureRangeControl,{label:(0,i.__)("Padding","gutenam-blocks"),value:ie,tabletValue:oe,mobileValue:ne,onChange:e=>o({paddingDesktop:e}),onChangeTablet:e=>o({paddingTablet:e}),onChangeMobile:e=>o({paddingMobile:e}),min:0,max:"em"===le||"rem"===le?24:200,step:"em"===le||"rem"===le?.1:1,unit:le,units:["px","em","rem","%"],onUnit:e=>o({paddingUnit:e}),onMouseOver:D.onMouseOver,onMouseOut:D.onMouseOut}),(0,r.createElement)(k.ResponsiveMeasureRangeControl,{label:(0,i.__)("Margin","gutenam-blocks"),value:Y,tabletValue:ee,mobileValue:te,onChange:e=>{o({marginDesktop:e})},onChangeTablet:e=>o({marginTablet:e}),onChangeMobile:e=>o({marginMobile:e}),min:"em"===ae||"rem"===ae?-12:-200,max:"em"===ae||"rem"===ae?24:200,step:"em"===ae||"rem"===ae?.1:1,unit:ae,units:["px","em","rem","%","vh"],onUnit:e=>o({marginUnit:e}),onMouseOver:N.onMouseOver,onMouseOut:N.onMouseOut})),(0,r.createElement)("div",{className:"bst-sidebar-settings-spacer"}),(0,r.createElement)(k.BaseBlockDefaults,{attributes:a,defaultAttributes:R.attributes,blockSlug:R.name,excludedAttrs:Ft}))),(0,r.createElement)(p.InspectorAdvancedControls,null,(0,r.createElement)(v.ToggleControl,{label:(0,i.__)("Prevent Lazy Load","gutenam-blocks"),help:(0,i.__)("This adds a class to tell lazy load plugins to skip this image for lazy load.","gutenam-blocks"),checked:Fe,onChange:e=>o({preventLazyLoad:e})}),(0,r.createElement)(v.RangeControl,{label:(0,i.__)("Z-Index Control","gutenam-blocks"),value:Ie,onChange:e=>{o({zIndex:e})},min:-200,max:2e3,allowReset:!0}))),At=(e=>{let t;try{t=new URL(e,"http://example.com").pathname.split("/").pop()}catch(e){}if(t)return t})(P);let Vt;Vt=L||(At?(0,i.sprintf)(/* translators: %s: file name */
(0,i.__)("This image has an empty alt attribute; its file name is %s"),At):(0,i.__)("This image has an empty alt attribute"));let Ht=!1,$t="no-repeat",qt="auto",jt="center center";"custom"===we?Ee&&(Ht=!0,$t=xe||"no-repeat",qt=_e||"auto",jt=Ce||"center center"):"none"!==we&&(Ht=!0);let Gt,Jt,Zt=(0,r.createElement)("div",null,(0,r.createElement)("img",{src:t||P,alt:Vt,width:void 0!==ht&&ht&&Ot&&!Xe?ht:void 0,height:void 0!==ft&&ft&&Ot&&!Xe?ft:void 0,style:{WebkitMaskImage:Ht?"url("+("custom"===we?Ee:base_blocks_params.svgMaskPath+we+".svg")+")":void 0,WebkitMaskRepeat:Ht?$t:void 0,WebkitMaskSize:Ht?qt:void 0,WebkitMaskPosition:Ht?jt:void 0,maskImage:Ht?"url("+("custom"===we?Ee:base_blocks_params.svgMaskPath+we+".svg")+")":void 0,maskRepeat:Ht?$t:void 0,maskSize:Ht?qt:void 0,maskPosition:Ht?jt:void 0,paddingTop:G||""===We?void 0:(0,y.getSpacingOptionOutput)(We,le),paddingRight:G||""===Ae?void 0:(0,y.getSpacingOptionOutput)(Ae,le),paddingBottom:G||""===Ve?void 0:(0,y.getSpacingOptionOutput)(Ve,le),paddingLeft:G||""===He?void 0:(0,y.getSpacingOptionOutput)(He,le),borderTop:$e||void 0,borderRight:qe||void 0,borderBottom:je||void 0,borderLeft:Ge||void 0,borderTopLeftRadius:""!==Je?Je+(ue||"px"):void 0,borderTopRightRadius:""!==Ze?Ze+(ue||"px"):void 0,borderBottomRightRadius:""!==Qe?Qe+(ue||"px"):void 0,borderBottomLeftRadius:""!==Ke?Ke+(ue||"px"):void 0,backgroundColor:""!==re?(0,y.BaseColorOutput)(re):void 0,boxShadow:void 0!==be&&be&&void 0!==ve&&void 0!==ve[0]&&void 0!==ve[0].color?(void 0!==ve[0].inset&&ve[0].inset?"inset ":"")+(void 0!==ve[0].hOffset?ve[0].hOffset:0)+"px "+(void 0!==ve[0].vOffset?ve[0].vOffset:0)+"px "+(void 0!==ve[0].blur?ve[0].blur:14)+"px "+(void 0!==ve[0].spread?ve[0].spread:0)+"px "+(0,y.BaseColorOutput)(void 0!==ve[0].color?ve[0].color:"#000000",void 0!==ve[0].opacity?ve[0].opacity:.2):void 0,filter:void 0!==he&&he?"drop-shadow("+(void 0!==he&&he&&void 0!==fe&&void 0!==fe[0]&&void 0!==fe[0].color?(void 0!==fe[0].hOffset?fe[0].hOffset:0)+"px "+(void 0!==fe[0].vOffset?fe[0].vOffset:0)+"px "+(void 0!==fe[0].blur?fe[0].blur:14)+"px "+(0,y.BaseColorOutput)(void 0!==fe[0].color?fe[0].color:"#000000",void 0!==fe[0].opacity?fe[0].opacity:.2):void 0)+")":void 0},onError:()=>function(){const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preview:a,attributes:i={}}=e,{url:o,providerNameSlug:l,type:r,...s}=i;if(!o||!(0,n.getBlockType)(T))return;const d=(e=>(0,n.getBlockVariations)(T)?.find((t=>{let{patterns:a}=t;return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((t=>e.match(t)))}(e,a)})))(o),c="wordpress"===l||r===I;if(!c&&d&&(d.attributes.providerNameSlug!==l||!l))return(0,n.createBlock)(T,{url:o,...s,...d.attributes});const u=(0,n.getBlockVariations)(T)?.find((e=>{let{name:t}=e;return"wordpress"===t}));return u&&a&&M(a.html)&&!c?(0,n.createBlock)(T,{url:o,...u.attributes,...t}):void 0}({attributes:{url:P}});void 0!==e&&d(e)}(),onLoad:e=>{kt((0,c.pick)(e.target,["naturalWidth","naturalHeight"]))}}),t&&(0,r.createElement)(v.Spinner,null),!G&&(0,r.createElement)(k.SpacingVisualizer,{type:"inside",forceShow:D.isMouseOver,spacing:[(0,y.getSpacingOptionOutput)(We,le),(0,y.getSpacingOptionOutput)(Ae,le),(0,y.getSpacingOptionOutput)(Ve,le),(0,y.getSpacingOptionOutput)(He,le)]}));if(G&&(Zt=(0,r.createElement)("div",{className:`bsb-is-ratio-image bsb-image-ratio-${J||"land43"}`},Zt)),Et&&ht&&ft){const e=ht>Et;Gt=e?Et:ht,Jt=e?Et*(ft/ht):ft}if(Lt&&yt)Zt=(0,r.createElement)(p.__experimentalImageEditor,{id:A,url:P,width:$,height:q,clientWidth:Et,naturalHeight:ft,naturalWidth:ht,onSaveImage:e=>o(e),onFinishEditing:()=>{St(!1)}});else if(Bt&&Gt&&"Desktop"===z){const e=G?"100%":"auto",t=Xe||$||Gt;let a=ht/ft;if(G)switch(J){case"land43":a=4/3;break;case"land32":a=1.5;break;case"land169":a=16/9;break;case"land21":a=2;break;case"land31":a=3;break;case"land41":a=4;break;case"port34":a=3/4;break;case"port23":a=2/3;break;case"port916":a=9/16;break;case"square":a=1}const n=ht<ft?20:20*a,s=ft<ht?20:20/a,d=2.5*Nt;let c=!1,u=!1;"center"===F?(c=!0,u=!0):(0,i.isRTL)()?"left"===F?c=!0:u=!0:"right"===F?u=!0:c=!0,Zt=(0,r.createElement)(v.ResizableBox,{size:{width:null!=Xe?Xe:e,height:"auto"},showHandle:l,minWidth:n,maxWidth:d,minHeight:s,maxHeight:d/a,lockAspectRatio:!0,enable:{top:!1,right:c,bottom:!1,left:u},onResizeStart:function(){gt(!1)},onResizeStop:(e,a,i,n)=>{gt(!0),o({imgMaxWidth:parseInt(t+n.width,10)})},style:{margin:"center"===F?"0 auto":void 0}},Zt)}else Zt=(0,r.createElement)("div",{className:"bsb-image-wrap",style:{maxWidth:Xe||$,width:Xe?"100%":void 0}},Zt);return(0,r.createElement)(r.Fragment,null,!t&&Wt,Zt,(!p.RichText.isEmpty(U)||l)&&ot&&!1!==ye&&(0,r.createElement)(p.RichText,{ref:Mt,tagName:"figcaption","aria-label":(0,i.__)("Image caption text","gutenam-blocks"),placeholder:(0,i.__)("Add caption","gutenam-blocks"),value:U,onChange:e=>o({caption:e}),style:{color:Se&&void 0!==Se[0]&&void 0!==Se[0].color?(0,y.BaseColorOutput)(Se[0].color):void 0,fontFamily:Se&&void 0!==Se[0]&&void 0!==Se[0].family?Se[0].family:void 0,fontStyle:Se&&void 0!==Se[0]&&void 0!==Se[0].style?Se[0].style:void 0,fontWeight:Se&&void 0!==Se[0]&&void 0!==Se[0].weight?Se[0].weight:void 0,textTransform:Se&&void 0!==Se[0]&&void 0!==Se[0].textTransform?Se[0].textTransform:void 0,letterSpacing:Se&&void 0!==Se[0]&&void 0!==Se[0].letterSpacing?Se[0].letterSpacing:void 0,lineHeight:at,fontSize:(0,y.getFontSizeOptionOutput)(et,Ye)},inlineToolbar:!0,__unstableOnSplitAtEnd:()=>s((0,n.createBlock)("core/paragraph"))}))}const V=(e,t)=>t&&!e&&!(0,u.isBlobURL)(t),H=(0,g.compose)([v.withNotices])((function(e){let{attributes:t,setAttributes:a,isSelected:n,className:s,noticeUI:g,insertBlocksAfter:v,noticeOperations:h,onReplace:S,context:w,clientId:_}=e;const{url:C="",alt:x,caption:E,align:O,id:B,width:z,height:R,uniqueID:T,sizeSlug:N,imageFilter:I,useRatio:M,imgMaxWidth:D,zIndex:H,baseAnimation:$,baseAOSOptions:q,border:j,borderColor:G,borderStyle:J,borderWidthDesktop:Z,mobileBorderStyle:Q,borderWidthMobile:K,tabletBorderStyle:X,borderWidthTablet:Y,marginDesktop:ee,marginTablet:te,marginMobile:ae,marginUnit:ie,paddingDesktop:oe,paddingTablet:ne,paddingMobile:le,paddingUnit:re,inQueryBlock:se}=t;function de(){let e=null;w&&(w.queryId||Number.isFinite(w.queryId))&&w.postId&&(e=w.postId),t.baseDynamic&&t.baseDynamic.url&&t.baseDynamic.url.enable&&(0,b.applyFilters)("base.dynamicImage","",t,a,"url",e)}const{addUniqueID:ce}=(0,m.useDispatch)("baseblocks/data"),{isUniqueID:ue,isUniqueBlock:ge,previewDevice:me}=(0,m.useSelect)((e=>({isUniqueID:t=>e("baseblocks/data").isUniqueID(t),isUniqueBlock:(t,a)=>e("baseblocks/data").isUniqueBlock(t,a),previewDevice:e("baseblocks/data").getPreviewDeviceType()})),[_]);(0,r.useEffect)((()=>{(0,y.setBlockDefaults)("base/image",t);let e=(0,y.getUniqueId)(T,_,ue,ge);e!==T?(t.uniqueID=e,a({uniqueID:e}),ce(e,_)):ce(T,_),a({inQueryBlock:(0,y.getInQueryBlock)(w,se)});let i=JSON.parse(JSON.stringify(t.borderStyle?t.borderStyle:[{top:["","",""],right:["","",""],bottom:["","",""],left:["","",""],unit:"px"}])),o=!1;void 0!==G&&""!==G&&(i[0].top[0]=G,i[0].right[0]=G,i[0].bottom[0]=G,i[0].left[0]=G,o=!0,a({borderColor:""})),""===Z?.[0]&&""===Z?.[1]&&""===Z?.[2]&&""===Z?.[3]||(i[0].top[2]=Z?.[0]||"",i[0].right[2]=Z?.[1]||"",i[0].bottom[2]=Z?.[2]||"",i[0].left[2]=Z?.[3]||"",o=!0,a({borderWidthDesktop:["","","",""]})),o&&a({borderStyle:i});let n=JSON.parse(JSON.stringify(t.tabletBorderStyle?t.tabletBorderStyle:[{top:["","",""],right:["","",""],bottom:["","",""],left:["","",""],unit:"px"}]));if(""!==Y?.[0]||""!==Y?.[1]||""!==Y?.[2]||""!==Y?.[3]){n[0].top[2]=Y?.[0]||"",n[0].right[2]=Y?.[1]||"",n[0].bottom[2]=Y?.[2]||"",n[0].left[2]=Y?.[3]||"";const e=JSON.parse(JSON.stringify(n));a({tabletBorderStyle:e,borderWidthTablet:["","","",""]})}let l=JSON.parse(JSON.stringify(t.mobileBorderStyle?t.mobileBorderStyle:[{top:["","",""],right:["","",""],bottom:["","",""],left:["","",""],unit:"px"}]));""===K?.[0]&&""===K?.[1]&&""===K?.[2]&&""===K?.[3]||(l[0].top[2]=K?.[0]||"",l[0].right[2]=K?.[1]||"",l[0].bottom[2]=K?.[2]||"",l[0].left[2]=K?.[3]||"",a({mobileBorderStyle:l,borderWidthMobile:["","","",""]})),(0,c.debounce)(de,200)}),[]);const pe=(0,y.mouseOverVisualizer)(),be=(0,y.mouseOverVisualizer)(),[ve,he]=(0,r.useState)(),fe=(0,r.useRef)();(0,r.useEffect)((()=>{fe.current=x}),[x]);const ke=(0,r.useRef)();(0,r.useEffect)((()=>{ke.current=E}),[E]);const ye=(0,r.useRef)(),{imageDefaultSize:Se,mediaUpload:we}=(0,m.useSelect)((e=>{const{getSettings:t}=e(p.store);return(0,c.pick)(t(),["imageDefaultSize","mediaUpload"])}),[]);function _e(e){h.removeAllNotices(),h.createErrorNotice(e)}function Ce(e){if(!e||!e.url)return void a({url:void 0,alt:void 0,id:void 0,title:void 0,caption:void 0});if((0,u.isBlobURL)(e.url))return void he(e.url);he();let i,o=((e,t)=>{const a=(0,c.pick)(e,["alt","id","link","caption"]);return a.url=(0,c.get)(e,["sizes",t,"url"])||(0,c.get)(e,["media_details","sizes",t,"source_url"])||e.url,a})(e,Se);var n,l;ke.current&&!(0,c.get)(o,["caption"])&&(o=(0,c.omit)(o,["caption"])),i=e.id&&e.id===B?{url:C}:{width:void 0,height:void 0,sizeSlug:(n=e,l=Se,(0,c.has)(n,["sizes",l,"url"])||(0,c.has)(n,["media_details","sizes",l,"source_url"])?Se:"full")};let r,s=t.linkDestination;if(!s)switch(wp?.media?.view?.settings?.defaultProps?.link||P){case"file":case L:s=L;break;case"post":case U:s=U;break;case F:s=F;break;case P:s=P}switch(s){case L:r=e.url;break;case U:r=e.link}o.link=r,a({...o,...i,linkDestination:s})}function xe(e){e!==C&&a({url:e,id:void 0,width:void 0,height:void 0,sizeSlug:Se})}let Ee=((e,t)=>!e&&(0,u.isBlobURL)(t))(B,C);(0,r.useEffect)((()=>{if(!Ee)return;const e=(0,u.getBlobByURL)(C);e&&we({filesList:[e],onFileChange:e=>{let[t]=e;Ce(t)},allowedTypes:W,onError:e=>{Ee=!1,h.createErrorNotice(e),a({src:void 0,id:void 0,url:void 0})}})}),[]),(0,r.useEffect)((()=>{Ee?he(C):(0,u.revokeBlobURL)(ve)}),[Ee,C]),V(B,C);const Oe=!!C&&(0,r.createElement)("img",{alt:(0,i.__)("Edit image"),title:(0,i.__)("Edit image"),className:"edit-image-preview",src:C}),Be=(0,y.getPreviewSize)(me,void 0!==ee?ee[0]:"",void 0!==te?te[0]:"",void 0!==ae?ae[0]:""),ze=(0,y.getPreviewSize)(me,void 0!==ee?ee[1]:"",void 0!==te?te[1]:"",void 0!==ae?ae[1]:""),Re=(0,y.getPreviewSize)(me,void 0!==ee?ee[2]:"",void 0!==te?te[2]:"",void 0!==ae?ae[2]:""),Te=(0,y.getPreviewSize)(me,void 0!==ee?ee[3]:"",void 0!==te?te[3]:"",void 0!==ae?ae[3]:""),Ne=(0,y.getPreviewSize)(me,void 0!==oe?oe[0]:"",void 0!==ne?ne[0]:"",void 0!==le?le[0]:""),Ie=(0,y.getPreviewSize)(me,void 0!==oe?oe[1]:"",void 0!==ne?ne[1]:"",void 0!==le?le[1]:""),Me=(0,y.getPreviewSize)(me,void 0!==oe?oe[2]:"",void 0!==ne?ne[2]:"",void 0!==le?le[2]:""),De=(0,y.getPreviewSize)(me,void 0!==oe?oe[3]:"",void 0!==ne?ne[3]:"",void 0!==le?le[3]:""),Pe=d()(s,{"is-transient":ve,"is-resized":!!z||!!R,"aos-animate":"aos-animate",[`size-${N}`]:N,[`filter-${I}`]:I&&"none"!==I,"bsb-image-is-ratio-size":M,"image-is-svg":C&&C.endsWith(".svg"),[`base-image${T}`]:T}),Le=(0,p.useBlockProps)({ref:ye,className:Pe,"data-align":"center"===O?O:void 0});return(0,r.createElement)("figure",l({"data-aos":$||void 0,"data-aos-duration":q&&q[0]&&q[0].duration?q[0].duration:void 0,"data-aos-easing":q&&q[0]&&q[0].easing?q[0].easing:void 0},Le,{style:{maxWidth:!D||"left"!==O&&"right"!==O?void 0:D+"px",zIndex:H||void 0,marginTop:""!==Be?(0,y.getSpacingOptionOutput)(Be,ie):void 0,marginRight:""!==ze?(0,y.getSpacingOptionOutput)(ze,ie):void 0,marginBottom:""!==Re?(0,y.getSpacingOptionOutput)(Re,ie):void 0,marginLeft:""!==Te?(0,y.getSpacingOptionOutput)(Te,ie):void 0,paddingTop:M&&""!==Ne?(0,y.getSpacingOptionOutput)(Ne,re):void 0,paddingRight:M&&""!==Ie?(0,y.getSpacingOptionOutput)(Ie,re):void 0,paddingBottom:M&&""!==Me?(0,y.getSpacingOptionOutput)(Me,re):void 0,paddingLeft:M&&""!==De?(0,y.getSpacingOptionOutput)(De,re):void 0}}),(ve||C)&&(0,r.createElement)(A,{temporaryURL:ve,previewDevice:me,attributes:t,setAttributes:a,isSelected:n,insertBlocksAfter:v,onReplace:S,onSelectImage:Ce,onSelectURL:xe,onUploadError:_e,containerRef:ye,context:w,clientId:_,marginMouseOver:pe,paddingMouseOver:be}),!C&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(p.BlockControls,{group:"block"},(0,r.createElement)(p.BlockAlignmentControl,{value:O,onChange:function(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};a({...t,align:e})}})),(0,r.createElement)(p.InspectorControls,null,(0,r.createElement)(k.BasePanelBody,{title:(0,i.__)("Image settings","gutenam-blocks"),initialOpen:!0,panelName:"bsb-image-settings-edit"},(0,r.createElement)(k.BaseImageControl,{label:(0,i.__)("Image","gutenam-blocks"),hasImage:!!C,imageURL:C||"",imageID:B||"",onRemoveImage:()=>{a({url:void 0,width:void 0,height:void 0,sizeSlug:void 0})},onSaveImage:Ce,disableMediaButtons:!!C,dynamicAttribute:"url",isSelected:n,attributes:t,setAttributes:a,name:"base/image",clientId:_,context:w})))),(0,r.createElement)(k.BaseMediaPlaceholder,{labels:{title:(0,i.__)("Advanced Image","gutenam-blocks")},icon:o.imageIcon,selectIcon:f,selectLabel:(0,i.__)("Select Image","gutenam-blocks"),onSelect:Ce,onSelectURL:xe,accept:"image/*",notices:g,onError:_e,className:"base-image-upload",allowedTypes:W,mediaPreview:Oe,disableMediaButtons:ve||C}),(0,r.createElement)(k.SpacingVisualizer,{type:"outside",forceShow:pe.isMouseOver,spacing:[(0,y.getSpacingOptionOutput)(Be,ie),(0,y.getSpacingOptionOutput)(ze,ie),(0,y.getSpacingOptionOutput)(Re,ie),(0,y.getSpacingOptionOutput)(Te,ie)]}),M&&(0,r.createElement)(k.SpacingVisualizer,{type:"inside",forceShow:be.isMouseOver,spacing:[(0,y.getSpacingOptionOutput)(Ne,re),(0,y.getSpacingOptionOutput)(Ie,re),(0,y.getSpacingOptionOutput)(Me,re),(0,y.getSpacingOptionOutput)(De,re)]}))})),$={from:[{type:"block",isMultiBlock:!0,blocks:["core/image"],transform:e=>(e=e[0],(0,n.createBlock)("base/image",{id:e.id,url:e.url,alt:e.alt,caption:e.caption,align:e.align,sizeSlug:e.sizeSlug,width:e.width,height:e.height}))}],to:[{type:"block",blocks:["core/image"],transform:e=>(0,n.createBlock)("core/image",{id:e.id,url:e.url,alt:e.alt,caption:e.caption,align:e.align,sizeSlug:e.sizeSlug,width:e.width,height:e.height})}]},q=$,{attributes:j}=R,G=[{attributes:j,save:e=>{let{attributes:t}=e;const{url:a,alt:i,caption:o,align:l,link:s,width:c,height:u,id:g,linkTarget:m,linkNoFollow:b,linkSponsored:v,showCaption:h,sizeSlug:f,title:k,uniqueID:y,imageFilter:S,useRatio:w,ratio:_}=t,C=d()({[`align${l}`]:l,[`size-${f}`]:f,"is-resized":c||u,[`bsb-filter-${S}`]:S&&"none"!==S,"bsb-image-is-ratio-size":w}),x=d()({[`bsb-image${y}`]:y,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image"),[`align${l}`]:l,[`size-${f}`]:f,"is-resized":c||u,[`bsb-filter-${S}`]:S&&"none"!==S,"bsb-image-is-ratio-size":w}),E=d()({[`bsb-image${y}`]:y,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image")});let O;m&&(O="noopener noreferrer"),void 0!==b&&!0===b&&(O=O?O.concat(" nofollow"):"nofollow"),void 0!==v&&!0===v&&(O=O?O.concat(" sponsored"):"sponsored");let B=(0,r.createElement)("img",{src:a,alt:i,className:g?`bsb-img wp-image-${g}`:"bsb-img",width:c,height:u,title:k});w&&(B=(0,r.createElement)("div",{className:`bsb-is-ratio-image bsb-image-ratio-${_||"land43"}`},B));const z=(0,r.createElement)(r.Fragment,null,s?(0,r.createElement)("a",{href:s,className:"bsb-advanced-image-link",target:m?"_blank":void 0,rel:O||void 0},B):B,!p.RichText.isEmpty(o)&&!1!==h&&(0,r.createElement)(p.RichText.Content,{tagName:"figcaption",value:o}));return"left"===l||"right"===l||"center"===l?(0,r.createElement)("div",p.useBlockProps.save({className:E}),(0,r.createElement)("figure",{className:C},z)):(0,r.createElement)("figure",p.useBlockProps.save({className:x}),z)}},{attributes:j,save:e=>{let{attributes:t}=e;const{url:a,alt:i,caption:o,align:l,link:s,width:c,height:u,id:g,linkTarget:m,linkNoFollow:b,linkSponsored:v,showCaption:h,sizeSlug:f,title:k,uniqueID:y,imageFilter:S,useRatio:w,ratio:_}=t,C=d()({[`align${l}`]:l,[`size-${f}`]:f,"is-resized":c||u,[`bsb-filter-${S}`]:S&&"none"!==S,"bsb-image-is-ratio-size":w}),x=d()({[`bsb-image${y}`]:y,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image"),[`align${l}`]:l,[`size-${f}`]:f,"is-resized":c||u,[`bsb-filter-${S}`]:S&&"none"!==S,"bsb-image-is-ratio-size":w}),E=d()({[`bsb-image${y}`]:y,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image")});let O;m&&(O="noopener noreferrer"),void 0!==b&&!0===b&&(O=O?O.concat(" nofollow"):"nofollow"),void 0!==v&&!0===v&&(O=O?O.concat(" sponsored"):"sponsored");let B=(0,r.createElement)("img",{src:a,alt:i,className:g?`bsb-img base-image-${g}`:"bsb-img",width:c,height:u,title:k});w&&(B=(0,r.createElement)("div",{className:`bsb-is-ratio-image bsb-image-ratio-${_||"land43"}`},B));const z=(0,r.createElement)(r.Fragment,null,s?(0,r.createElement)("a",{href:s,className:"bsb-advanced-image-link",target:m?"_blank":void 0,rel:O||void 0},B):B,!p.RichText.isEmpty(o)&&!1!==h&&(0,r.createElement)(p.RichText.Content,{tagName:"figcaption",value:o}));return"left"===l||"right"===l||"center"===l?(0,r.createElement)("div",p.useBlockProps.save({className:E}),(0,r.createElement)("figure",{className:C},z)):(0,r.createElement)("figure",p.useBlockProps.save({className:x}),z)}}],{name:J}=R,Z={title:(0,i._x)("Advanced Image","block title","gutenam-blocks"),description:(0,i._x)("Image block with greater controls and advanced features","block description","gutenam-blocks"),icon:{src:o.imageIcon},example:{attributes:{sizeSlug:"large",url:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",
// translators: Caption accompanying an image of the Mont Blanc, which serves as an example for the Image block.
caption:(0,i.__)("Mont Blanc appears—still, snowy, and serene.","gutenam-blocks")}},__experimentalLabel(e,t){let{context:a}=t;if("accessibility"===a){const{caption:t,alt:a,url:o}=e;return o?a?a+(t?". "+t:""):t||"":(0,i.__)("Empty")}},getEditWrapperProps(e){if("wide"===e.align||"full"===e.align||"left"===e.align||"right"===e.align)return{"data-align":e.align}},transforms:q,edit:H,save:function(e){let{attributes:t}=e;const{url:a,alt:i,caption:o,align:l,link:s,width:c,height:u,id:g,linkTarget:m,linkNoFollow:b,linkSponsored:v,linkTitle:h,showCaption:f,sizeSlug:k,title:y,uniqueID:S,imageFilter:w,useRatio:_,ratio:C,preventLazyLoad:x}=t,E=d()({[`align${l}`]:l,[`size-${k}`]:k,"is-resized":c||u,[`bsb-filter-${w}`]:w&&"none"!==w,"bsb-image-is-ratio-size":_,"image-is-svg":a&&a.endsWith(".svg")}),O=d()({[`bsb-image${S}`]:S,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image"),[`align${l}`]:l,[`size-${k}`]:k,"is-resized":c||u,[`bsb-filter-${w}`]:w&&"none"!==w,"bsb-image-is-ratio-size":_,"image-is-svg":a&&a.endsWith(".svg")}),B=d()({[`bsb-image${S}`]:S,[(0,n.getBlockDefaultClassName)("base/image")]:(0,n.getBlockDefaultClassName)("base/image")}),z=d()({"bsb-img":!0,[`wp-image-${g}`]:g,"skip-lazy":x,"bsb-skip-lazy":x});let R;m&&(R="noopener noreferrer"),void 0!==b&&!0===b&&(R=R?R.concat(" nofollow"):"nofollow"),void 0!==v&&!0===v&&(R=R?R.concat(" sponsored"):"sponsored");let T=(0,r.createElement)("img",{src:a,alt:i,className:z,width:c,height:u,title:y});_&&(T=(0,r.createElement)("div",{className:`bsb-is-ratio-image bsb-image-ratio-${C||"land43"}`},T));const N=(0,r.createElement)(r.Fragment,null,s?(0,r.createElement)("a",{href:s,className:"bsb-advanced-image-link",target:m?"_blank":void 0,rel:R||void 0,"aria-label":h||void 0},T):T,!p.RichText.isEmpty(o)&&!1!==f&&(0,r.createElement)(p.RichText.Content,{tagName:"figcaption",value:o}));return"left"===l||"right"===l||"center"===l?(0,r.createElement)("div",p.useBlockProps.save({className:B}),(0,r.createElement)("figure",{className:E},N)):(0,r.createElement)("figure",p.useBlockProps.save({className:O}),N)},deprecated:G};(0,n.registerBlockType)(R,{...R,...Z})},1991:(e,t)=>{var a;!function(){"use strict";var i=function(){function e(){}function t(e,t){for(var a=t.length,i=0;i<a;++i)o(e,t[i])}e.prototype=Object.create(null);var a={}.hasOwnProperty,i=/\s+/;function o(e,o){if(o){var n=typeof o;"string"===n?function(e,t){for(var a=t.split(i),o=a.length,n=0;n<o;++n)e[a[n]]=!0}(e,o):Array.isArray(o)?t(e,o):"object"===n?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var i in t)a.call(t,i)&&(e[i]=!!t[i]);else e[t.toString()]=!0}(e,o):"number"===n&&function(e,t){e[t]=!0}(e,o)}}return function(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];var n=new e;t(n,i);var l=[];for(var r in n)n[r]&&l.push(r);return l.join(" ")}}();e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()},4184:(e,t)=>{var a;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var l=o.apply(null,a);l&&e.push(l)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var r in a)i.call(a,r)&&a[r]&&e.push(r)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},9588:e=>{e.exports=function(e,t){var a,i,o=0;function n(){var n,l,r=a,s=arguments.length;e:for(;r;){if(r.args.length===arguments.length){for(l=0;l<s;l++)if(r.args[l]!==arguments[l]){r=r.next;continue e}return r!==a&&(r===i&&(i=r.prev),r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=a,r.prev=null,a.prev=r,a=r),r.val}r=r.next}for(n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return r={args:n,val:e.apply(null,n)},a?(a.prev=r,r.next=a):i=r,o===t.maxSize?(i=i.prev).next=null:o++,a=r,r.val}return t=t||{},n.clear=function(){a=null,i=null,o=0},n}}},a={};function i(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,i),n.exports}i.m=t,e=[],i.O=(t,a,o,n)=>{if(!a){var l=1/0;for(c=0;c<e.length;c++){for(var[a,o,n]=e[c],r=!0,s=0;s<a.length;s++)(!1&n||l>=n)&&Object.keys(i.O).every((e=>i.O[e](a[s])))?a.splice(s--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,o,n]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={4574:0,1312:0};i.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[l,r,s]=a,d=0;if(l.some((t=>0!==e[t]))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(s)var c=s(i)}for(t&&t(a);d<l.length;d++)n=l[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},a=globalThis.webpackChunkbase=globalThis.webpackChunkbase||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=i.O(void 0,[1312],(()=>i(1954)));o=i.O(o),(this.base=this.base||{})["blocks-image"]=o})();